<div class="container story-card col-9 d-flex" id="story-<%= story.id %>">
  <div class="story-card-row story-card-row-up">
    <% if story.user_favorite(current_user) %>
      <%= link_to favorite_path(Favorite.find_by(story: story, user: current_user)), remote: true, method: :delete do %>
        <i class="story-card-icone fas fa-bookmark"></i>
      <% end %>
    <% else %>
      <%= link_to story_favorites_path(story), remote: true, method: :post  do %>
        <i class="story-card-icone far fa-bookmark"></i>
      <% end %>
    <% end %>


    <h1><%= link_to story.title.capitalize, story_path(story) %></h1>
    <h4>By <%= story.author.username %></h4>
    <div class="story-card-text">
      <p class="story-card-p"><%= story.content %></p>
    </div>
  </div>

  <div class="story-card-row story-card-row-down">
    <div class="story-card-infos">
      <div class="d-flex justify-content-between py-3 align-items-center">

        <div class="likes d-flex">
          <i class="info-icon far fa-thumbs-up"></i>
          <p class="info-text"><%= story.average_reactions %></p>
        </div>

        <% if story.vibration_compatibility %>
          <div class="vibe-compatibility">
            <i class="info-icon fas fa-broadcast-tower"></i>
          </div>
        <% end %>

        <div class="readings d-flex">
          <i class="info-icon fas fa-eye"></i>
          <p class="info-text"><%= story.readings.count %></p>
        </div>

      </div>
      <div class="d-flex justify-content-between">
        <% story.tags.each do |tag| %>
          <div class="tag"><%= tag %></div>
        <% end %>
      </div>
    </div>
  </div>
</div>
